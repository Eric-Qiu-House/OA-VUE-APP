"use strict";(self["webpackChunkscui"]=self["webpackChunkscui"]||[]).push([[9289],{14349:function(e,t,l){l.r(t),l.d(t,{default:function(){return f}});var a=l(20641),o=l(90033);const s={class:"myMods"},d=["href"],n={href:"javascript:void(0)"},i={class:"setMods"},m={class:"setMods"};function u(e,t,l,u,r,c){const k=(0,a.g2)("el-icon"),h=(0,a.g2)("router-link"),p=(0,a.g2)("el-icon-plus"),f=(0,a.g2)("draggable"),y=(0,a.g2)("el-button"),M=(0,a.g2)("el-drawer");return(0,a.uX)(),(0,a.CE)("div",null,[(0,a.Lk)("ul",s,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(r.myMods,(t=>((0,a.uX)(),(0,a.CE)("li",{key:t.path,style:(0,o.Tr)({background:t.meta.color||"#909399"})},["link"==t.meta.type?((0,a.uX)(),(0,a.CE)("a",{key:0,href:t.path,target:"_blank"},[(0,a.bF)(k,null,{default:(0,a.k6)((()=>[((0,a.uX)(),(0,a.Wv)((0,a.$y)(t.meta.icon||e.el-e.icon-e.menu)))])),_:2},1024),(0,a.Lk)("p",null,(0,o.v_)(t.meta.title),1)],8,d)):((0,a.uX)(),(0,a.Wv)(h,{key:1,to:{path:t.path}},{default:(0,a.k6)((()=>[(0,a.bF)(k,null,{default:(0,a.k6)((()=>[((0,a.uX)(),(0,a.Wv)((0,a.$y)(t.meta.icon||e.el-e.icon-e.menu)))])),_:2},1024),(0,a.Lk)("p",null,(0,o.v_)(t.meta.title),1)])),_:2},1032,["to"]))],4)))),128)),(0,a.Lk)("li",{class:"modItem-add",onClick:t[0]||(t[0]=(...e)=>c.addMods&&c.addMods(...e))},[(0,a.Lk)("a",n,[(0,a.bF)(k,null,{default:(0,a.k6)((()=>[(0,a.bF)(p)])),_:1})])])]),(0,a.bF)(M,{title:"添加应用",modelValue:r.modsDrawer,"onUpdate:modelValue":t[4]||(t[4]=e=>r.modsDrawer=e),size:570,"destroy-on-close":""},{footer:(0,a.k6)((()=>[(0,a.bF)(y,{onClick:t[3]||(t[3]=e=>r.modsDrawer=!1)},{default:(0,a.k6)((()=>[(0,a.eW)("取消")])),_:1}),(0,a.bF)(y,{type:"primary",onClick:c.saveMods},{default:(0,a.k6)((()=>[(0,a.eW)("保存")])),_:1},8,["onClick"])])),default:(0,a.k6)((()=>[(0,a.Lk)("div",i,[(0,a.Lk)("h4",null,"我的常用 ( "+(0,o.v_)(r.myMods.length)+" )",1),(0,a.bF)(f,{tag:"ul",modelValue:r.myMods,"onUpdate:modelValue":t[1]||(t[1]=e=>r.myMods=e),animation:"200","item-key":"path",group:"people"},{item:(0,a.k6)((({element:t})=>[(0,a.Lk)("li",{style:(0,o.Tr)({background:t.meta.color||"#909399"})},[(0,a.bF)(k,null,{default:(0,a.k6)((()=>[((0,a.uX)(),(0,a.Wv)((0,a.$y)(t.meta.icon||e.el-e.icon-e.menu)))])),_:2},1024),(0,a.Lk)("p",null,(0,o.v_)(t.meta.title),1)],4)])),_:1},8,["modelValue"])]),(0,a.Lk)("div",m,[(0,a.Lk)("h4",null,"全部应用 ( "+(0,o.v_)(r.filterMods.length)+" )",1),(0,a.bF)(f,{tag:"ul",modelValue:r.filterMods,"onUpdate:modelValue":t[2]||(t[2]=e=>r.filterMods=e),animation:"200","item-key":"path",sort:!1,group:"people"},{item:(0,a.k6)((({element:t})=>[(0,a.Lk)("li",{style:(0,o.Tr)({background:t.meta.color||"#909399"})},[(0,a.bF)(k,null,{default:(0,a.k6)((()=>[((0,a.uX)(),(0,a.Wv)((0,a.$y)(t.meta.icon||e.el-e.icon-e.menu)))])),_:2},1024),(0,a.Lk)("p",null,(0,o.v_)(t.meta.title),1)],4)])),_:1},8,["modelValue"])])])),_:1},8,["modelValue"])])}l(28743);var r=l(432),c=l.n(r),k={components:{draggable:c()},data(){return{mods:[],myMods:[],myModsName:[],filterMods:[],modsDrawer:!1}},mounted(){this.getMods()},methods:{addMods(){this.modsDrawer=!0},getMods(){this.myModsName=this.$TOOL.data.get("my-mods")||[];var e=this.$TOOL.data.get("MENU");this.filterMenu(e),this.myMods=this.mods.filter((e=>this.myModsName.includes(e.name))),this.filterMods=this.mods.filter((e=>!this.myModsName.includes(e.name)))},filterMenu(e){e.forEach((e=>{if(e.meta.hidden||"button"==e.meta.type)return!1;"iframe"==e.meta.type&&(e.path=`/i/${e.name}`),e.children&&e.children.length>0?this.filterMenu(e.children):this.mods.push(e)}))},saveMods(){const e=this.myMods.map((e=>e.name));this.$TOOL.data.set("my-mods",e),this.$message.success("设置常用成功"),this.modsDrawer=!1}}},h=l(66262);const p=(0,h.A)(k,[["render",u],["__scopeId","data-v-ddc038fc"]]);var f=p}}]);